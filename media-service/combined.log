{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T07:48:57.720Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T07:58:36.332Z"}
{"level":"error","message":"unknown error while uploading: Multipart: Boundary not found","service":"media-service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/busboy@1.6.0/node_modules/busboy/lib/types/multipart.js:233:13)\n    at getInstance (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/busboy@1.6.0/node_modules/busboy/lib/index.js:33:12)\n    at module.exports (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/busboy@1.6.0/node_modules/busboy/lib/index.js:56:10)\n    at multerMiddleware (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/multer@2.0.2/node_modules/multer/lib/make-middleware.js:38:16)\n    at /home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/src/routes/media.router.ts:21:5\n    at Layer.handleRequest (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)\n    at next (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)\n    at handle (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)","timestamp":"2025-12-20T07:58:36.340Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T07:59:47.362Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T07:59:47.373Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T07:59:47.374Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T07:59:47.374Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T07:59:50.528Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","exception":{"http_code":401,"message":"Invalid cloud_name dims","name":"Error"},"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T07:59:50.530Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T07:59:50.531Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T08:01:55.803Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T08:01:55.809Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T08:01:55.810Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T08:01:55.810Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T08:02:01.935Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","exception":{"http_code":401,"message":"Invalid cloud_name dims","name":"Error"},"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T08:02:01.936Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T08:02:01.936Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T08:02:33.545Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T10:47:26.066Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T10:48:38.734Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T10:48:38.744Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T10:48:38.744Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T10:48:38.744Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:48:43.555Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","exception":{"http_code":401,"message":"Invalid cloud_name dims","name":"Error"},"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:48:43.557Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:48:43.558Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T10:49:55.244Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T10:49:58.844Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T10:49:58.866Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T10:49:58.867Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T10:49:58.867Z"}
{"level":"info","message":"hitting upload to image kit function","service":"media-service","timestamp":"2025-12-20T10:49:58.868Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:50:01.621Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","exception":{"http_code":401,"message":"Invalid cloud_name dims","name":"Error"},"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:50:01.623Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:50:01.624Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T10:50:53.210Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T10:50:56.658Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T10:50:56.673Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T10:50:56.674Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T10:50:56.674Z"}
{"level":"info","message":"hitting upload to image kit function","service":"media-service","timestamp":"2025-12-20T10:50:56.674Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:51:02.558Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","exception":{"http_code":401,"message":"Invalid cloud_name dims","name":"Error"},"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:51:02.560Z"}
{"http_code":401,"level":"error","message":"Invalid cloud_name dims","name":"Error","service":"media-service","timestamp":"2025-12-20T10:51:02.562Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T12:42:04.003Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T12:42:04.007Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T12:42:04.007Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T12:42:04.007Z"}
{"level":"info","message":"hitting upload to image kit function","service":"media-service","timestamp":"2025-12-20T12:42:04.007Z"}
{"http_code":499,"level":"error","message":"Request Timeout","name":"TimeoutError","service":"media-service","timestamp":"2025-12-20T12:42:09.012Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","error":{"http_code":499,"message":"Request Timeout","name":"TimeoutError"},"exception":{"error":{"http_code":499,"message":"Request Timeout","name":"TimeoutError"}},"level":"error","message":"unhandledRejection at:","service":"media-service","timestamp":"2025-12-20T12:42:09.015Z"}
{"http_code":499,"level":"error","message":"Request Timeout","name":"TimeoutError","service":"media-service","timestamp":"2025-12-20T12:42:09.015Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T12:42:38.845Z"}
{"level":"info","message":"recieved POST request to /api/media/upload","service":"media-service","timestamp":"2025-12-20T12:42:44.521Z"}
{"level":"info","message":"starting media upload","service":"media-service","timestamp":"2025-12-20T12:42:44.534Z"}
{"level":"info","message":"file details: name=renata-kiss-y7v3_nknf1k-unsplash.jpg, type=image/jpeg","service":"media-service","timestamp":"2025-12-20T12:42:44.534Z"}
{"level":"info","message":"uploading to cloudinary starting...","service":"media-service","timestamp":"2025-12-20T12:42:44.535Z"}
{"level":"info","message":"hitting upload to image kit function","service":"media-service","timestamp":"2025-12-20T12:42:44.535Z"}
{"level":"info","message":"cloudinary upload successfully, Public ID:","service":"media-service","timestamp":"2025-12-20T12:42:51.995Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-20T12:43:13.072Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T11:24:03.853Z"}
{"level":"info","message":"recieved GET request to /api/media/all-medias","service":"media-service","timestamp":"2025-12-21T11:25:10.244Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:16:52.766Z"}
{"classId":40,"code":406,"level":"error","message":"error connecting to RabbitMQ Operation failed: ExchangeDeclare; 406 (PRECONDITION-FAILED) with message \"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'facebook_events' in vhost '/': received 'true' but current is 'false'\"","methodId":10,"service":"media-service","stack":"Error: Operation failed: ExchangeDeclare; 406 (PRECONDITION-FAILED) with message \"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'facebook_events' in vhost '/': received 'true' but current is 'false'\"\n    at reply (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/channel.js:141:31)\n    at Channel.accept (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/channel.js:319:9)\n    at Connection.mainAccept [as accept] (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/connection.js:579:33)\n    at Socket.go (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/connection.js:431:16)\n    at Socket.emit (node:events:508:28)\n    at emitReadable_ (node:internal/streams/readable:832:12)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)","timestamp":"2025-12-21T12:16:52.802Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:18:40.377Z"}
{"classId":40,"code":406,"level":"error","message":"error connecting to RabbitMQ Operation failed: ExchangeDeclare; 406 (PRECONDITION-FAILED) with message \"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'facebook_events' in vhost '/': received 'true' but current is 'false'\"","methodId":10,"service":"media-service","stack":"Error: Operation failed: ExchangeDeclare; 406 (PRECONDITION-FAILED) with message \"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'facebook_events' in vhost '/': received 'true' but current is 'false'\"\n    at reply (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/channel.js:141:31)\n    at Channel.accept (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/channel.js:319:9)\n    at Connection.mainAccept [as accept] (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/connection.js:579:33)\n    at Socket.go (/home/dimasmukhtar/Documents/learning/microservice/social-media-backend/media-service/node_modules/.pnpm/amqplib@0.10.9/node_modules/amqplib/lib/connection.js:431:16)\n    at Socket.emit (node:events:508:28)\n    at emitReadable_ (node:internal/streams/readable:832:12)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)","timestamp":"2025-12-21T12:18:40.414Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:20:20.230Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:20:20.264Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:23:12.141Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:23:12.177Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:23:12.214Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:34:42.672Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:34:42.708Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:34:42.723Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:34:56.641Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:34:56.669Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:34:56.687Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:37:26.025Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:37:26.064Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:37:26.081Z"}
{"level":"info","message":"recieved GET request to /api/media/all-medias","service":"media-service","timestamp":"2025-12-21T12:38:28.888Z"}
{"level":"info","mediaIds":["694699cb5d610d8432fd7e2f"],"message":"recieved post.deleted event","postId":"69469b323cc70940a6410e2d","service":"media-service","timestamp":"2025-12-21T12:39:07.623Z","userId":"6945477aeddb6dd704c04010"}
{"0":"n","1":"y","10":"a","11":"q","12":"r","13":"d","14":"2","15":"q","16":"y","17":"a","18":"p","19":"w","2":"m","3":"3","4":"k","5":"y","6":"m","7":"p","8":"k","9":"f","level":"info","message":"media deleted successfully from cloudinary","service":"media-service","timestamp":"2025-12-21T12:39:11.404Z"}
{"level":"info","message":"media 694699cb5d610d8432fd7e2f deleted for post 69469b323cc70940a6410e2d","service":"media-service","timestamp":"2025-12-21T12:39:11.411Z"}
{"level":"info","message":"recieved GET request to /api/media/all-medias","service":"media-service","timestamp":"2025-12-21T12:39:20.987Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:43:32.216Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:43:32.256Z"}
{"level":"error","message":"failed to start the server","service":"media-service","timestamp":"2025-12-21T12:43:32.258Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:43:45.382Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:43:45.422Z"}
{"level":"error","message":"failed to start the server","service":"media-service","timestamp":"2025-12-21T12:43:45.424Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:44:01.681Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:44:01.717Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:44:01.733Z"}
{"level":"info","message":"connected to mongodb","service":"media-service","timestamp":"2025-12-21T12:44:10.075Z"}
{"level":"info","message":"connected to RabbitMQ","service":"media-service","timestamp":"2025-12-21T12:44:10.112Z"}
{"level":"info","message":"subscribed to queue: post.deleted with routing key: post.deleted","service":"media-service","timestamp":"2025-12-21T12:44:10.118Z"}
